<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<title>Melbourne Haskell Workshop 2013</title>
		<link href="resources/css/styles.css" rel="stylesheet" type="text/css">
		<link href="resources/css/solarized-light.css" rel="stylesheet" type="text/css">
	</head>
	<body class="">
		<div id="content">

<h1 id="melbourne-haskell-workshop-2013">Melbourne Haskell Workshop 2013</h1>
<h1 id="draft-copy">DRAFT COPY</h1>
<ul>
<li>6 Hours (Plus Lunch)</li>
<li>Expected attendance - 50 people</li>
</ul>
<!-- Trickery to conditionally display the alternate format link -->

<h3 id="html-link" class="center"><a href="http://sordina.github.io/haskell_workshop/">(HTML)</a></h3>
<div class="important">

<script type="text/javascript">
	document.getElementById('html-link').remove()
	document.write("<h3 class='center'><a href='workshop.pdf'>(PDF)</a></h3>")
</script>


<pre class="note notitle"><code>Press...

&quot;x&quot; - To show only the most important content
&quot;o&quot; - To expand the content out again</code></pre>
</div>

<hr />
<div class="center important">
A 6-hour workshop intended to introduce and provide resources for working with Haskell.
</div>

<!-- http://upload.wikimedia.org/wikipedia/commons/0/0c/Potter's_workshop_VA.jpg -->
<div class="center"> 
<img src="resources/images/workshop.png" alt="Workshop" />
</div>

<p>This workshop is based around a central concept of domain modeling with Haskell.</p>
<p>Outcomes include...</p>
<ul>
<li>Creating, editing, running and interacting with Haskell programs</li>
<li>Building the confidence to solve problems in the wild with Haskell</li>
<li>Developing an understanding of the Haskell ecosystem</li>
<li>Interacting with others in a collaborative environment</li>
</ul>
<div class="important note">
<p>If you are attending the workshop, make sure that you RSVP via <a href="http://www.meetup.com/Melbourne-Functional-User-Group-MFUG/events/132307572/">Meetup</a>. Please also attempt to have the required items from the <a href="#resources">'Resources'</a> section available for your use during the workshop.</p>
If you would like to volunteer, please subscribe to the <a href="www.reddit.com/r/mhw2013/">mhw2013</a> sub-reddit and list yourself on the wiki.
</div>

<hr />
<h1 id="table-of-contents">Table of Contents</h1>
<div class="important">

<table>
<tbody>
<tr class="odd">
<td align="left"><a href="#required-resources">Resources</a></td>
<td align="left">Resources Available and Required</td>
</tr>
<tr class="even">
<td align="left"><a href="#introduction">Introduction</a></td>
<td align="left">Motivation, Overview, and Approach</td>
</tr>
<tr class="odd">
<td align="left"><a href="#setup">Setup</a></td>
<td align="left">Setting up your Haskell environment</td>
</tr>
<tr class="even">
<td align="left"><a href="#opening-exercises">Opening Exercises</a></td>
<td align="left">Introductory Exercises</td>
</tr>
<tr class="odd">
<td align="left"><a href="#adts-algebraic-data-types">ADTs</a></td>
<td align="left">Modelling with data in Haskell</td>
</tr>
<tr class="even">
<td align="left"><a href="#typeclasses">Typeclasses</a></td>
<td align="left">Code-Reuse and Laws</td>
</tr>
<tr class="odd">
<td align="left"><a href="#wildcard">Wildcard</a></td>
<td align="left">Music</td>
</tr>
<tr class="even">
<td align="left"><a href="#monads">Monads</a></td>
<td align="left">DSLs, IO, Do-Notation</td>
</tr>
<tr class="odd">
<td align="left"><a href="#exercise---testing">Testing</a></td>
<td align="left">Testing with QuickCheck</td>
</tr>
<tr class="even">
<td align="left"><a href="#exercise---symbolic-differentiation">Algebra</a></td>
<td align="left">Symbolic Mathematics</td>
</tr>
<tr class="odd">
<td align="left"><a href="#ecosystem">Ecosystem</a></td>
<td align="left">Resources and Community</td>
</tr>
<tr class="even">
<td align="left"><a href="#appendix">Appendix</a></td>
<td align="left">Appendix</td>
</tr>
</tbody>
</table>
</div>

<hr />
<h1 id="required-resources">Required Resources</h1>
<p>Before you begin you will require the following...</p>
<h2 id="a-text-editor" class="important">A Text-Editor</h2>
<p>We are assuming previous programming experience, however, if you would like a recommendation, have a look at <a href="http://notepad-plus-plus.org/">Notepad++</a>, <a href="http://www.sublimetext.com/">Sublime Text</a>, or the ever-popular <a href="http://www.gnu.org/software/emacs/">Emacs</a> and <a href="http://www.vim.org/">Vim</a>. Just make sure that you are fluent enough to embark on exercises as they appear in the workshop.</p>
<h2 id="the-haskell-platform" class="important"><a href="http://www.haskell.org/platform/">The Haskell Platform</a></h2>
<p>In order to run the programs written during this workshop you will need a Haskell installation. The easiest way to get up and running is to install the latest Haskell Platform. This is a &quot;batteries included&quot; installation of GHC and Cabal that includes many of the most useful packages available in the Hackage ecosystem.</p>
<h2 id="a-copy-of-the-workshop-scaffold-project" class="important"><a href="https://github.com/sordina/haskell_workshop">A Copy of the Workshop Scaffold Project</a></h2>
<p><a href="https://github.com/sordina/haskell_workshop">https://github.com/sordina/haskell_workshop</a></p>
<p>Either clone with git:</p>
<pre class="shell"><code>git clone https://github.com/sordina/haskell_workshop.git</code></pre>
<p>... or <a href="https://github.com/sordina/haskell_workshop/archive/master.zip">download the zip</a> from GitHub.</p>
<h1 id="useful-resources" class="collapse">Useful Resources</h1>
<p>These resources are available to help you with any issues you face when learning Haskell:</p>
<h2 id="haskell-on-freenode">#haskell on <a href="http://freenode.net/">Freenode</a></h2>
<p>An IRC channel dedicated to discussion of Haskell. This is often the easiest place to fire off a one-off question that is simple enough not to warrant a permanent listing on the internet.</p>
<h2 id="hackage"><a href="http://hackage.haskell.org/packages/hackage.html">Hackage</a></h2>
<p>Hackage is the primary repository for Haskell packages. It is public, searchable, versioned, and uses Cabal package metadata for classification. Furthermore, this can be used to easily browse package contents, documentation and source-code.</p>
<p>For example, browse the <a href="http://hackage.haskell.org/package/shake">Shake</a> package and look at some of the <a href="http://hackage.haskell.org/packages/archive/shake/0.10.6/doc/html/Development-Shake-Command.html">Modules</a>.</p>
<h2 id="hoogle"><a href="http://www.haskell.org/hoogle/">Hoogle</a></h2>
<p>Hoogle is a Haskell module and function search-engine. Hoogle allows you to take advantage of the granular type-system used by Haskell to search not just for function-names, but for function type-signatures.</p>
<p>For example, have a look for the function with signature <a href="http://www.haskell.org/hoogle/?hoogle=Text+-%3E+ByteString">Text -&gt; ByteString</a>.</p>
<h2 id="mfug"><a href="http://www.meetup.com/Melbourne-Functional-User-Group-MFUG/">MFUG</a></h2>
<p>MFUG is the Melbourne Functional Programmer's User Group. This group discusses many topics, including Haskell.</p>
<h2 id="rhaskell"><a href="http://www.reddit.com/r/haskell">/r/haskell</a></h2>
<p>For Reddit users, /r/haskell is a very useful resource with a great deal of information regarding recent developments in the Haskell ecosystem and community. This is a good place to ask some more advanced questions or start a flame-war.</p>
<h2 id="haskell-news"><a href="http://haskellnews.org/">Haskell News</a></h2>
<p>Haskell News is a firehose-style haskell news aggregator taking information from sources as varied as academic-journals, and GitHub accounts.</p>
<h2 id="hlint"><a href="http://hackage.haskell.org/package/hlint">HLint</a></h2>
<p>HLint is a <a href="http://en.wikipedia.org/wiki/Lint_(software)">linting tool</a> for Haskell source - It can often provide some useful hints about refactoring avenues for your code.</p>
<h2 id="learn-you-a-haskell-for-great-good"><a href="http://learnyouahaskell.com/">Learn You a Haskell (For Great Good)</a></h2>
<p>Learn You a Haskell (For Great Good) is a wonderful introductory text on Haskell.</p>
<h2 id="real-world-haskell"><a href="http://book.realworldhaskell.org/">Real World Haskell</a></h2>
<p>Real World Haskell aims to focus on solving real problems with Haskell. Several chapters of the book are somewhat dated in terms of the libraries used, but it still serves as a useful example of getting real work done with Haskell.</p>
<hr />
<h1 id="introduction">Introduction</h1>
<div class="important">

<p>Welcome to the Melbourne Haskell Workshop 2013.</p>
<p>This intent of this workshop is to provide a working introduction to Haskell for programmers in Melbourne who have not yet used the language in anger.</p>
<p>The workshop is split into chapters - each lasting an hour. Chapters will start with a few trivial introductory exercises to get your fingers warmed up, then the meat - an exercise that should be able to be solved using the material introduced up to that point, but with help and hints available if needed.</p>
<p>Each chapter will conclude with an open-question. This question should provide inspiration for further consideration of how harder problems could be solved using Haskell, and for more advanced attendees, can be attacked instead of twiddling your thumbs after finishing the main exercise.</p>
</div>

<h2 id="why-run-a-free-haskell-workshop">Why run a free haskell workshop?</h2>
<p>There are a few kinds of benefits that we anticipate will result as an outcome of the workshop:</p>
<ul>
<li>Benefits to Individuals</li>
<li>Benefits to the Community</li>
<li>Benefits to the Volunteers</li>
<li>Benefits to the Organisers</li>
<li>Benefits to Industry</li>
<li>Benefits to Relationships</li>
</ul>
<h3 id="benefits-to-individuals">Benefits to Individuals</h3>
<ul>
<li>New Tools</li>
<li>Experience writing Haskell</li>
<li>An Introduction to the Wider Community</li>
</ul>
<p>What do we hope that an individual attendee will gain by coming to the workshop?</p>
<p>Since this workshop is targeted towards beginners, we want an attendee to come away from the workshop with new tools at their disposal. Yes, a new language to reimplement existing knowledge with various platform benefits, but more importantly, a new tool for dissecting problems.</p>
<p>Learning a new problem-solving approach will almost certainly be the most challenging part of the workshop, but through the consistent delivery of exercises that benefit from domain modelling, we hope that the attendee will walk away with the confidence to attack new problems from the &quot;Haskell Mindset&quot;.</p>
<p>Although there won't be time to work on any large-scale problems, we hope that the approaches we demonstrate will be able to be applied with confidence to problems of any size.</p>
<p>Aside from the technical benefits, the workshop should provide a great opportunity for attendees to meet many other members of the Melbourne Haskell using community.</p>
<h3 id="benefits-to-the-community">Benefits to the Community</h3>
<ul>
<li>Haskell as a Tool for Communication</li>
<li>Local Network Effects</li>
<li>Consolidation</li>
</ul>
<p>Often, Haskell (especially the type-system) can be an extremely effective means of communication of certain kinds of behaviors, requirements, and problems. If this workshop can help advance Haskell as a common language for inter-personal discussion of technical topics, then the barriers of communication will be lowered and the community as a whole should become more productive.</p>
<p>Often, it isn't until a particular community reaches a critical mass that it comes into its own. Currently the Melbourne Haskell community is reasonably disparate and unconnected (especially outside of MFUG). If the various groups of people using Haskell can be consolidated, then we would consider starting a regular Melbourne Haskell meetup. Just having the ability to ask questions in person can go a long way to advancing confidence in a particular topic, therefore, as the number of Haskell users increases locally, so to will the overall skill of individuals and the community as a whole.</p>
<h3 id="benefits-to-the-volunteers">Benefits to the Volunteers</h3>
<ul>
<li>Experience</li>
<li>Networking</li>
</ul>
<p>We hope that for the volunteers, providing administrative and in-person assistance will be a rewarding experience. We are very open to people of any skill level helping out and this could be a great opportunity for newcomers to the community to get their fingers dirty by providing assistance at the workshop.</p>
<p>The workshop should also be a good networking opportunity for volunteers, as a stratified group of Haskellers of this size has not yet convened in Melbourne.</p>
<h3 id="benefits-to-industry">Benefits to Industry</h3>
<p>It has been said that once you are comfortable programming Haskell, you become spoiled, and won't want to go back to your previous languages. Rather than quit your day-job, if Haskell's presence can be advanced in industry, then the Joy of programming haskell will become a possibility in your day-to-day work-life. A longer-term goal to be sure.</p>
<p>This benefit may be the most tenuous outcome of the workshop, but as the mindshare of Haskell grows, the chances of it being used for projects within industry increases.</p>
<ul>
<li>An understanding of the language's strengths and weaknesses emerges empowers decision makers to weigh up if the language is a suitable candidate to solve the technical problems at hand.</li>
<li>Confidence is gained that there are enough people using the language that hiring a programmer will not be a problem if this is required.</li>
</ul>
<p>The technical benefits to industry will have the most impact where a rigorous solution to a problem is necessary. In the financial sector, Haskell is beginning to become more popular as the cost of bugs can be very high. Technical benefits, however, are a moot point if Haskell does not see adoption.</p>
<p>If this workshop can give project-leaders in industry, making programming-language choices, the confidence to consider Haskell as a real candidate, then it will have gone a long way towards making Melbourne a more attractive place to be for people who wish to use Haskell in day-to-day work.</p>
<h3 id="benefits-to-the-organisers">Benefits to the Organisers</h3>
<p>Last-but-not-least -</p>
<div class="important">

<p>For us, the organisers, running this workshop will be a great opportunity to see the Melbourne Haskell community in action. We're looking forward to working with you all, and expect that above all else we will have a lot of...</p>
<h1 id="fun"><em>Fun!</em></h1>
</div>

<hr />
<h1 id="setup">Setup</h1>
<div class="important">
<p>Ensure that you have the following programs installed and functioning correctly:</p>
<h2 id="ghci">GHCi</h2>
</div>

<p>At a command prompt, enter the following command:</p>
<pre class="shell"><code>ghci</code></pre>
<p>This should launch the GHC Haskell REPL.</p>
<p>Type the following to ensure that you have a functioning REPL:</p>
<pre data-language="haskell"><code>1 + 1</code></pre>
<p>This should yield the result:</p>
<pre class="text"><code>2</code></pre>
<pre class="real"><code>You can use GHCi to perform calculations other than just &quot;1 + 1&quot;.

Here is an example session:

lyndon@endpin ~ ghci
GHCi, version 7.6.2: http://www.haskell.org/ghc/  :? for help
Loading package ghc-prim ... linking ... done.
Loading package integer-gmp ... linking ... done.
Loading package base ... linking ... done.
[Prelude] &gt; 1 + 2 + 3
6
[Prelude] &gt; 100 / 2
50.0
[Prelude] &gt; 6 ^ 7
279936
[Prelude] &gt; ^D
Leaving GHCi.</code></pre>
<pre class="instruction"><code>Using GHCi...

Calculate the price of 42-bakers-dozens of eggs at $3 per-egg.</code></pre>
<pre class="answer"><code>[Prelude] 42 * 13 * 3
1638</code></pre>
<h2 id="loading-files-in-ghci" class="important">Loading files in GHCi</h2>
<p>There are many ways to load and execute Haskell code. For the purposes of this workshop, if you do not already have a workflow you are comfortable with, then we suggest the following steps:</p>
<ul>
<li>Write and edit your programs in files ending in the extension &quot;.hs&quot;</li>
<li>When you are ready to test your program, load it into GHCi</li>
<li>After making modifications to your program, reload the program in GHCi</li>
</ul>
<p>Say you had written the following program <code>test.hs</code> in your home directory:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>main = print &quot;hello world&quot;
</code></pre>
<p>Load the file in GHCi to see it in action:</p>
<pre class="shell"><code>lyndon@endpin ~ ghci test.hs
GHCi, version 7.6.2: http://www.haskell.org/ghc/  :? for help
Loading package ghc-prim ... linking ... done.
Loading package integer-gmp ... linking ... done.
Loading package base ... linking ... done.
[1 of 1] Compiling Main             ( test.hs, interpreted )
Ok, modules loaded: Main.
[*Main] &gt; main
&quot;hello world&quot;</code></pre>
<p>... Unfortunately there is a bug in the program, so in your editor you make the change required to print &quot;hello, world&quot; with the mandated comma:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>main = print &quot;hello, world&quot;
</code></pre>
<p>Now, back in GHCi, you can reload the program without exiting the REPL:</p>
<pre class="shell"><code>[*Main] &gt; :reload
[1 of 1] Compiling Main             ( test.hs, interpreted )
Ok, modules loaded: Main.
[*Main] &gt; main
&quot;hello, world&quot;</code></pre>
<p>Much better!</p>
<pre class="instruction"><code>  

* Define a new numeric function in a source file
* Load it in GHCi
* Test your function in GHCi
* Make a modification
* Reload your chages without exiting GHCi
* Test your changes</code></pre>
<h2 id="ghc" class="important">GHC</h2>
<p>Create the following source file (program.hs):</p>
<pre data-language="haskell"><code>main = print &quot;hello world&quot;</code></pre>
<p>Compile the program as follows:</p>
<pre class="shell"><code>ghc --make program.hs</code></pre>
<p>Run the program with the following command:</p>
<pre class="shell"><code>./program</code></pre>
<p>The output should look as follows:</p>
<pre class="text"><code>&quot;hello world&quot;</code></pre>
<pre class="real"><code>Compiled programs are almost always significantly faster than instructions
run inside GHCi. Even greater speed-ups are possible by using the &quot;-O&quot;
optimisation settings for GHC.</code></pre>
<pre class="instruction"><code>Using GHC...

Compile and run your own spin on Hello-World.</code></pre>
<pre class="answer"><code>lyndon@endpin ~ echo &#39;main = print &quot;hello homies&quot;&#39; &gt; main.hs
lyndon@endpin ~ ghc --make main.hs
[1 of 1] Compiling Main             ( main.hs, main.o )
Linking main ...
lyndon@endpin ~ ./main
&quot;hello homies&quot;</code></pre>
<h2 id="cabal" class="important">Cabal</h2>
<p>You should have access to a Cabal installation if you have installed the Haskell Platform.</p>
<p>Check that you have cabal by running:</p>
<pre class="shell"><code>cabal --version</code></pre>
<p>This should output something similar to:</p>
<pre class="text"><code>cabal-install version &lt;VERSION&gt;
using version &lt;VERSION&gt; of the Cabal library</code></pre>
<pre class="instruction"><code>Install the QuickCheck package using cabal.</code></pre>
<pre class="answer"><code>lyndon@endpin ~ cabal update # not required if done recently
Downloading the latest package list from hackage.haskell.org
lyndon@endpin ~ cabal install quickcheck
...</code></pre>
<pre class="open"><code>An open-ended question:

What are some of the current issues with the Haskell ecosystem?</code></pre>
<hr />
<h1 id="opening-exercises">Opening Exercises</h1>
<div class="important">

<p>The following exercises are intended to be used to warm up your fingers, rather than your brain. These should be run through quickly to get you used to using your development environment.</p>
</div>

<h2 id="variables">Variables</h2>
<p>In Haskell you can define a variable with the <code>=</code> sign.</p>
<p>Variables can be defined at the top-level (no-indentation):</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>myVariable = 2
</code></pre>
<p>Variable names should start with a lowercase letter and contain no spaces, or special characters, besides underscores, numbers, and <code>'</code>.</p>
<pre class="instruction"><code>Define your own variable.</code></pre>
<h2 id="type-signatures">Type Signatures</h2>
<p>You can annotate a definition with a valid type-signature:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>myVariable2 :: Int
myVariable2 = 1
</code></pre>
<pre class="instruction"><code>Give your variable a type-signature.</code></pre>
<h2 id="string-literals">String Literals</h2>
<p>String literals look familiar:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>myString :: String
myString = &quot;hello world&quot;
</code></pre>
<pre class="instruction"><code>Define a variable containing a string.</code></pre>
<h2 id="tuples">Tuples</h2>
<p>Tuples look like this:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>myTuplePair :: (Int, String)
myTuplePair = (1,&quot;hello&quot;)

myTupleTrio :: (Int, String, Int)
myTupleTrio = (1,&quot;hello&quot;,3)
</code></pre>
<p>They can be used to group multiple, differently-typed (heterogeneous) values.</p>
<pre class="instruction"><code>Define a variable containing a tuple.</code></pre>
<h2 id="functions">Functions</h2>
<p>Functions are a core part of Haskell. Function definitions look like this:</p>
<pre class="nocheck" data-language="haskell"><code>myFunction :: ... -&gt; ...
myFunction x y ... = ...</code></pre>
<p>If a function <code>f</code> takes something of type <code>a</code> and returns something of type <code>b</code> we write the type signature as:</p>
<pre class="nocheck" data-language="haskell"><code>f :: a -&gt; b</code></pre>
<p>For example:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>myAdd :: Int -&gt; Int -&gt; Int
myAdd x y = x + y
</code></pre>
<p><code>myAdd</code> takes two numbers and returns the result of the addition of those two numbers.</p>
<pre class="instruction"><code>Define a function `myMultiply` that multiplies 3 numbers.</code></pre>
<pre class="instruction"><code>Give your function a type-signature</code></pre>
<pre class="answer" data-language="haskell" data-filter="./resources/scripts/check.sh"><code>myMultiply :: Int -&gt; Int -&gt; Int -&gt; Int
myMultiply x y z = x * y * z
</code></pre>
<h2 id="lists">Lists</h2>
<p>List are a commonly used data-structure in Haskell. Everything in a list has the same type (they are homogeneous).</p>
<p>Lists are built using the infix data-constructor <code>(:)</code> (pronounced &quot;cons&quot;). They also have a compact notation using <code>[...]</code>.</p>
<p>List literals look like:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>list1 :: [Int]
list2 :: [Int]
list3 :: [String]

list1 = [1,2,3]
list2 = 1 : 2 : []
list3 = &quot;hello&quot; : &quot;world&quot; : []
</code></pre>
<pre class="instruction"><code>Define a variable containing a list.</code></pre>
<pre class="instruction"><code>Give your variable a type-signature.</code></pre>
<p>You can deconstruct a list by pattern matching the head and tail like so:</p>
<pre class="nocheck" data-language="haskell"><code>f (x:xs) = ...</code></pre>
<pre class="instruction"><code>Define a function to get the first element of a list.</code></pre>
<p>Note: In <code>Prelude</code> this function is called <code>head</code>.</p>
<pre class="answer" data-language="haskell" data-filter="./resources/scripts/check.sh"><code>myHead (x:xs) = x -- This is a partial function, Beware!
</code></pre>
<pre class="instruction"><code>Define a variable containing the first element of your list.</code></pre>
<pre class="answer nocheck" data-language="haskell"><code>myFirstElement = myHead myList</code></pre>
<h3 id="define-length">Define Length</h3>
<pre class="instruction"><code>Define a function that takes a list and returns the length.</code></pre>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>-- In Haskell type-signature syntax, this is written as:
myLength :: [a] -&gt; Int
myLength = undefined
</code></pre>
<p>Your solution should have the form of:</p>
<pre class="nocheck" data-language="haskell"><code>myLength []     = ...
myLength (x:xs) = ...</code></pre>
<p>Things to consider:</p>
<ul>
<li>What is the length of an empty list? (the base case)</li>
<li>What is the length of xs?</li>
</ul>
<pre class="answer" data-language="haskell" data-filter="./resources/scripts/check.sh"><code>mylength []     = 0
mylength (x:xs) = 1 + mylength xs
</code></pre>
<h3 id="define-mymap">Define <code>myMap</code></h3>
<pre class="instruction"><code>
  
Define a function that takes a function from a to b &quot;a -&gt; b&quot;,
and a list of as &quot;[a]&quot;, and returns a list of bs &quot;[b]&quot;.</code></pre>
<p>Things to consider:</p>
<ul>
<li>What is the type-signature of myMap?</li>
<li>What is the base-case of myMap?</li>
</ul>
<pre class="answer" data-language="haskell" data-filter="./resources/scripts/check.sh"><code>myMap :: (a -&gt; b) -&gt; [a] -&gt; [b]
myMap f [] = []
myMap f (x:xs) = f x : myMap f xs
</code></pre>
<h2 id="fun-list-functions">Fun List Functions</h2>
<p>For your reading pleasure, here are some definintions of common functions:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>myFilter f []     = []
myFilter f (x:xs) = if f x then x : myFilter f xs
                           else     myFilter f xs

myFold f z []     = z
myFold f z (x:xs) = f x (myFold f z xs)

myReverse []     = []
myReverse (x:xs) = myReverse xs ++ [x]

myElem e []     = False
myElem e (x:xs) = if e == x then True
                            else myElem e xs
</code></pre>
<p>See if you can determine the type-signatures for these functions.</p>
<pre class="open"><code>An open-ended question:

What is a good balance between safety and expressiveness in a
programming-language?</code></pre>
<hr />
<h1 id="adts-algebraic-data-types">ADTs (Algebraic Data Types)</h1>
<div class="center">
<a href="http://www.haskell.org/haskellwiki/Algebraic_data_type">Haskell Wiki Link</a>
</div>

<p>Algebraic Data Types are THE bread and butter of Haskell programs.</p>
<ul>
<li>Functions evaluate data by pattern-matching against ADTs</li>
<li>Domains are modeled using ADTs</li>
<li>Laziness is linked to ADTs</li>
<li>Types can be derived from ADT definitions</li>
</ul>
<div class="collapse">

<p>But how does that help me?</p>
<p>An example of an ADT in Haskell:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>data MyBool = MyTrue | MyFalse | MyNotSure

should_I_eat_something_bigger_than_my_own_head :: MyBool
should_I_eat_something_bigger_than_my_own_head = MyFalse
</code></pre>
<pre class="real"><code>With this functionality, you are able to introduce your own &quot;Enum&quot;
values.

The MyBool example is somewhat equivalent to the following C++ code:

enum MyBool { MyTrue, MyFalse, MyNotSure };

With the added bonus of not having out-of-bounds casting ruin your day.

If your problem space can be moddeled using various discrete values,
then this form of ADT will allow you to create a program that mirrors
your problem!</code></pre>
<p>You can add parameters to the data constructors:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>data MyNullString = Nada | MyString String

stringy :: MyNullString
stringy = MyString &quot;Whatever, It&#39;s just a string&quot;

blanky :: MyNullString
blanky = Nada
</code></pre>
<p>Constructors can take multiple parameters:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>data SomeJunk = Rubbish String | TrashPile String Int Bool

discards :: SomeJunk
discards = TrashPile &quot;Junk Yard&quot; 42 True
</code></pre>
<p>Furthermore, ADTs can be recursive:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>data MyNumberList = Nada | SomeNumbers Int MyNumberList

numbers :: MyNumberList
numbers =  SomeNumbers 1 (SomeNumbers 2 Nada)
</code></pre>
<p>Finally, ADTs can be parametrised by other types:</p>
<pre data-language="haskell" data-filter="./resources/scripts/check.sh"><code>data MyContainer x = Jar x

contained :: MyContainer Int
contained = Jar 1

pun :: MyContainer (MyContainer String)
pun = Jar (Jar &quot;Binks&quot;)
</code></pre>
<p>In general, the syntax of an ADT looks similar to the following:</p>
<pre class="bnf"><code>ADT          := data &lt;TypeName&gt; &lt;Variables&gt; = &lt;Constructors&gt;
TypeName     := [A-Z] + [a-z&#39;_]*
Parameters   := &lt;ConcreteType&gt; + (&quot; &quot; + &lt;ConcreteType&gt;)*
Constructors := &lt;Constructor&gt; + (&quot; | &quot; + &lt;Constructor&gt;)*
Constructor  := &lt;TypeName&gt; + &lt;Parameters&gt;
Variables    := &lt;Variable&gt; + (&quot; &quot; + &lt;Variable&gt;)*
Variable     := [a-z] + [a-z&#39;_]*</code></pre>
<p>ConcreteType can't be defined syntactically, but it means that your type is &quot;Fully Applied&quot; (in Haskell terms, has a kind of <code>*</code>). An example of some concrete types are:</p>
<ul>
<li><code>String</code></li>
<li><code>Int</code></li>
<li><code>Maybe String</code></li>
<li><code>[Int]</code></li>
</ul>
<p>Examples of some non-concrete types are:</p>
<p>With all of this power at your disposal, it's time to define a list ADT yourself.</p>
</div>

<pre class="instruction"><code>Define your own list ADT.</code></pre>
<p>Things to consider:</p>
<ul>
<li>Should this ADT be parametrised?</li>
<li>Should this ADT be recursive?</li>
<li>Should this ADT have multiple constructors?</li>
<li>Should the constructors be parametrised?</li>
</ul>
<pre class="answer" data-language="haskell" data-filter="./resources/scripts/check.sh"><code>data MyList a = Empty | Items a (MyList a)
</code></pre>
<pre class="open"><code>An open-ended question:

What would the ADT for a LISP-like language look like?</code></pre>
<div class="note">
<p>If you wish to learn about why ADTs are &quot;Algebraic&quot;, then have a look at:</p>
<ul>
<li><a href="http://chris-taylor.github.io/blog/2013/02/10/the-algebra-of-algebraic-data-types/">The Algebra of Algebraic Data Types, Part 1</a></li>
<li><a href="http://chris-taylor.github.io/blog/2013/02/11/the-algebra-of-algebraic-data-types-part-ii/">The Algebra of Algebraic Data Types, Part 2</a></li>
<li><a href="http://chris-taylor.github.io/blog/2013/02/13/the-algebra-of-algebraic-data-types-part-iii/">The Algebra of Algebraic Data Types, Part 3</a>
</div>
</li>
</ul>
<hr />
<h1 id="exercise---org-chart">Exercise - Org Chart</h1>
<p>You are an employee of International Banking Machines.</p>
<p>The CEO has asked you to model the org-chart with a computer program in order to perform some analysis on the effectiveness of middle-managers.</p>
<p>Before you are able to perform your calculations, you will have to decide how you will model your data. Construct a Haskell data-type to represent the various types of employees and departments shown in the following diagram:</p>
<div class="center">
<img src="resources/images/dot/01.png" alt="Org Chart" />
</div>


<pre class="hidden" data-language="dot" data-output="resources/images/dot/01.png" data-filter="./resources/scripts/graph.sh"><code></code></pre>
<p>Construct a function that builds up your datastructure from the following plain-text input format:</p>
<h2 id="employees">Employees</h2>
<table>
<col width="10%" />
<col width="11%" />
<col width="10%" />
<col width="22%" />
<col width="26%" />
<col width="15%" />
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Title</th>
<th align="left">Salary</th>
<th align="left">Department</th>
<th align="left">Managing Department</th>
<th align="left">Subordinates</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Dennis</td>
<td align="left">Manager</td>
<td align="left">$33K</td>
<td align="left">Products</td>
<td align="left">Products</td>
<td align="left">11</td>
</tr>
<tr class="even">
<td align="left">Dorris</td>
<td align="left">Manager</td>
<td align="left">$42K</td>
<td align="left">Pi√±atas</td>
<td align="left">HR</td>
<td align="left">22</td>
</tr>
<tr class="odd">
<td align="left">Darren</td>
<td align="left">Manager</td>
<td align="left">$34K</td>
<td align="left">Curly Department</td>
<td align="left">Fries</td>
<td align="left">13</td>
</tr>
<tr class="even">
<td align="left">Dylan</td>
<td align="left">Manager</td>
<td align="left">$54K</td>
<td align="left">Regulations</td>
<td align="left">Fries</td>
<td align="left">18</td>
</tr>
<tr class="odd">
<td align="left">Devin</td>
<td align="left">Manager</td>
<td align="left">$64K</td>
<td align="left">Front Desk</td>
<td align="left">BurgerFlipping</td>
<td align="left">23</td>
</tr>
</tbody>
</table>
<p>Your function should have the following signature:</p>
<pre class="nocheck" data-language="haskell"><code>process :: String -&gt; OrgChart</code></pre>
<hr />
<h1 id="exercise---music">Exercise - Music</h1>
<p>Once you have a model that reaches a sufficient level of complexity you will find that your data-types become recursive.</p>
<!-- http://i824.photobucket.com/albums/zz163/Boysie8/Telecaster%20build/f-hole.jpg -->
<div class="center">
<img src="resources/images/f-hole.jpg" />
</div>

<p>Here is a small musical target-language:</p>
<pre data-language="haskell"><code>data Music
  = A_ -- Underscore Represents a Flat
  | A
  | A&#39; -- Prime represents a Sharp
       -- ... B, C, D, E, F, G ...
  | Sequence [Music]
  | Sharp Music
  | Longer Integer Music
  | Higher Integer Music</code></pre>
<p>Certainly not comprehensive enough to write Beethoven's 5th Symphony, but good enough for Baa Baa Black-Sheep.</p>
<pre data-language="haskell"><code>intro  = Sequence [ C, C, G, G ]
run    = Sequence [ A, B, C, A ]
middle = Sequence [ F, F, E, E ]
run2   = Sequence [ D, C, D, E ]
baaBaa = Sequence [ Longer 2  intro
                  , Higher 12 run
                  , Longer 4  G
                  , Longer 2  middle
                  , run2
                  , Longer 4  C ]</code></pre>
<p>In order to listen to this music, create a file with the following code:</p>
<pre data-language="haskell"><code>import Midi
import qualified Data.ByteString as BS

main = BS.writeFile &quot;baaBaa.mid&quot; (make_music 4 4 (Longer 4 baaBaa))</code></pre>
<p>Your task is to write a melody using this language. Try to write and compose functions, rather than declaring one big data-structure.</p>
<hr />
<h1 id="exercise---testing">Exercise - Testing</h1>
<h1 id="todo-do-this-chapter" class="todo">TODO: Do this chapter</h1>
<hr />
<h1 id="exercise---symbolic-differentiation">Exercise - Symbolic Differentiation</h1>
<p>Your Highschool math teacher has decided to introduce differentiation of single-variable polynomials...</p>
<p>This is in super easy once you grasped the concept:</p>
<p>Polynomial term differentiation:</p>
<div class="center"> 
<br /><span class="math">$ a . x^n . \frac{d}{dx} = n.a.x^{n-1} $</span><br />
</div>

<p>Linearity of differentiation:</p>
<div class="center"> 
<br /><span class="math">$ (a + b) \frac{d}{dx} = a \frac{d}{dx} + b \frac{d}{dx} $</span><br />
</div>

<p>But you don't wish to perform the undoubtedly large number of rote-examples required after your moment of epiphany.</p>
<p>In this exercise you should develop a data-type to represent a single-variable polynomial expression.</p>
<p>After you feel confident that you can represent any such expression, write a function using the two rules listed to provide the following function:</p>
<pre class="nocheck" data-language="haskell"><code>differentiate :: Polynomial -&gt; Polynomial
differentiate = ...</code></pre>
<hr />
<h1 id="appendix">Appendix</h1>
<ul>
<li><a href="http://stackoverflow.com/questions/17870864/where-is-huttons-razor-first-defined">Hutton's Razor</a></li>
<li><a href="http://research.microsoft.com/en-us/um/people/simonpj/papers/pj-lester-book/">Implementing Functional Languages: A Tutorial</a></li>
</ul>
			<hr>
			<p class="center footer"> Produced with <a href="http://johnmacfarlane.net/pandoc/">Pandoc</a> </p>
		</div>
		<script type="text/javascript" src="resources/javascript/rainbow-custom.min.js"></script>
		<script type="text/javascript" src="resources/javascript/answers.js"></script>
		<script type="text/javascript" src="resources/javascript/collapse.js"></script>
	</body>
</html>
